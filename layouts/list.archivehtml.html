{{ define "main" }}
<main class="container">

  {{/* Page Header */}}
  <header class="page-header" style="text-align: center;">
    <h1 class="page-title">Archive</h1>
    <p class="page-description" style="font-style: italic; text-align: center;">A complete chronological collection of all writings</p>
  </header>

  {{/* Categories Section */}}
  {{ $list := ($.Site.GetPage "taxonomyTerm" "categories").Pages }}
  {{ if gt (len $list) 0 }}
    <section class="archive-categories">
      <h3>Categories</h3>
      <ul>
        {{ range $list }}
          <li><a href="{{ .Permalink }}">{{ .Title }}</a></li>
        {{ end }}
      </ul>
    </section>
  {{ end }}
  
  {{/* Archive List */}}
  {{ $posts := (where .Site.Pages "Type" "post") }}
  <div class="h-feed">
    <ul class="archive-list">
      {{ range $posts }}
        <li class="archive-item h-entry">
          <span class="archive-date">
            <time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
              {{ .Date.Format "Jan 2, 2006" }}
            </time>
          </span>
          <span class="archive-title">
            <a href="{{ .Permalink }}" class="u-url">
              {{ if .Title }}
                <span class="p-name">{{ .Title }}</span>
              {{ else }}
                <span class="p-summary">{{ .Summary | truncate 80 }}</span>
              {{ end }}
            </a>
          </span>
          <span class="p-author h-card" style="display:none;">{{ .Site.Author.name }}</span>
        </li>
      {{ end }}
    </ul>
  </div>

</main>
{{ end }}
