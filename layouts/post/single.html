{{ define "main" }}
<main class="container" style="max-width: 720px; margin: 0 auto; padding: 0 1.5rem;">
  <article class="article h-entry" style="max-width: 650px; margin: 0 auto; padding: 2rem 0 3rem;">
    
    {{/* Article Header */}}
    <header class="article-header" style="text-align: center; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid #d4c9b5;">
      <div class="article-meta" style="margin-bottom: 0.5rem;">
        <a href="{{ .Permalink }}" class="u-url">
          <time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
            {{ .Date.Format "January 2, 2006" }}
          </time>
        </a>
      </div>
      {{ if .Title }}
        <h1 class="article-title p-name" style="font-size: 2.5rem; line-height: 1.2; margin: 0;">{{ .Title }}</h1>
      {{ end }}
    </header>

    {{/* Article Content */}}
    <div class="article-content e-content {{ if .Title }}essay{{ end }}" style="font-size: 1.125rem; line-height: 1.8;">
      {{ .Content }}
    </div>

    {{/* Categories */}}
    {{ with .Params.categories }}
      <div class="article-categories" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #d4c9b5;">
        {{ range . }}
          <a href="{{ "/categories/" | relURL }}{{ . | urlize }}/" rel="tag" style="color: #8b4513;">{{ . }}</a>
        {{ end }}
      </div>
    {{ end }}

    {{/* Hidden Author Info for Microformats */}}
    <div class="p-author h-card" style="display:none;">
      <span class="p-name">{{ .Site.Author.name }}</span>
      {{ with .Site.Author.avatar }}
        <img class="u-photo" src="{{ . }}" alt="">
      {{ end }}
      <a class="u-url" href="{{ .Site.BaseURL }}">{{ .Site.BaseURL }}</a>
    </div>

  </article>

  {{/* Micro.blog Conversations (Comments/Replies) */}}
  {{ if .Site.Params.include_conversation }}
  <div id="conversation" class="microblog_conversation" style="max-width: 650px; margin: 0 auto;">
    <script type="text/javascript" src="https://micro.blog/conversation.js?url={{ .Permalink }}"></script>
  </div>
  {{ end }}

</main>
{{ end }}
